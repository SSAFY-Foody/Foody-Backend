# Foody (í‘¸ë””) - AI ê¸°ë°˜ ì‹ë‹¨ ë¶„ì„ ë° ì»¤ë®¤ë‹ˆí‹° í”Œë«í¼

### í”„ë¡œì íŠ¸ ê¸°ê°„
2025.12.01 ~ 2025.12.25

### íŒ€ì›
- ë°•ì •í›ˆ
- ìœ ì£¼ê²½

## ğŸ“– í”„ë¡œì íŠ¸ ì†Œê°œ
**Foody**ëŠ” ì‚¬ìš©ìì˜ ì‹ë‹¨ì„ AIë¡œ ë¶„ì„í•˜ì—¬ ì˜ì–‘ ì •ë³´ë¥¼ ì œê³µí•˜ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê±´ê°• ê´€ë¦¬ë¥¼ ë•ëŠ” **AI ì‹ë‹¨ ë¶„ì„ ì„œë¹„ìŠ¤**ì…ë‹ˆë‹¤.

ì‚¬ìš©ìëŠ” ì´ ì„¸ ê°€ì§€ì˜ ë°©ë²•(DB ìŒì‹, ì§ì ‘ ì…ë ¥, ì´ë¯¸ì§€ ë¶„ì„)ì„ í†µí•´ ì‹ë‹¨ì„ ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
Vision-Language Model (VLM)ì„ í™œìš©í•˜ì—¬ ìŒì‹ ì´ë¯¸ì§€ë¥¼ ìë™ ì¸ì‹í•˜ê³ , ì¹¼ë¡œë¦¬ ë° ì˜ì–‘ì†Œë¥¼ ë¶„ì„í•©ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ë¶„ì„ëœ ë ˆí¬íŠ¸ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‹ë‹¨ì„ ê¸°ë¡í•˜ê³ , ì»¤ë®¤ë‹ˆí‹°ë¥¼ í†µí•´ ë‹¤ë¥¸ ìœ ì €ë“¤ê³¼ ì‹ë‹¨ ì •ë³´ë¥¼ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜ (Architecture)

FoodyëŠ” í¬ê²Œ ì„¸ ê°€ì§€ì˜ ì„œë²„ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
ê° ì„œë²„ì˜ ìƒì„¸ ì„¤ì • ë° êµ¬ì¡°ëŠ” ê° ë ˆí¬ì§€í† ë¦¬ì˜ READMEë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

### 1. [ğŸ§  Foody-AI (AI ë¶„ì„ ì„œë²„)](https://github.com/SSAFY-Foody/Foody-AI)
- **ì—­í• **: ìŒì‹ ì´ë¯¸ì§€ ì¸ì‹ ë° ì‹ë‹¨ ë¶„ì„
- **í•µì‹¬ ê¸°ìˆ **: Vision-Language Model (VLM), PyTorch

### 2. [ğŸ›¡ï¸ Foody-Backend (API ì„œë²„)](https://github.com/SSAFY-Foody/Foody-Backend)
- **ì—­í• **: ì‚¬ìš©ì ì¸ì¦/ì¸ê°€, ë°ì´í„° ê´€ë¦¬(CRUD), ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥, AI ì„œë²„ í†µì‹ , ë°ì´í„°ë² ì´ìŠ¤ í†µì‹ 
- **í•µì‹¬ ê¸°ìˆ **: Spring Boot 3, MyBatis, MySQL, JWT, REST API, WebSocket, OAuth2.0

### 3. [ğŸ¨ Foody-Frontend (ì›¹ í´ë¼ì´ì–¸íŠ¸)](https://github.com/SSAFY-Foody/Foody-Frontend)
- **ì—­í• **: ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤(UI), ì‹ë‹¨ ì‹œê°í™”, ì»¤ë®¤ë‹ˆí‹° ìƒí˜¸ì‘ìš©
- **í•µì‹¬ ê¸°ìˆ **: Vue.js 3, Vite, TypeScript, TailwindCSS, Pinia

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥
1.  **ğŸ“¸ AI ìŒì‹ ì´ë¯¸ì§€ ë¶„ì„**: ìŒì‹ ì´ë¯¸ì§€ë¥¼ ë“±ë¡í•˜ê³  ë¶„ì„ ìš”ì²­ì„ í•˜ë©´ AIê°€ ìŒì‹ ì¢…ë¥˜ì™€ ì˜ì–‘ì†Œë¥¼ ìë™ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤.
2.  **ğŸ“ AI ì‹ë‹¨ ë¶„ì„**: ì‹ë‹¨ì„ ë“±ë¡í•˜ê³  ë¶„ì„ ìš”ì²­ì„ í•˜ë©´ AIê°€ ì‹ë‹¨ì— ëŒ€í•œ ë¶„ì„ ê²°ê³¼ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
3.  **ğŸ“Š ì˜ì–‘ ë¦¬í¬íŠ¸**: ì„­ì·¨í•œ ì¹¼ë¡œë¦¬, íƒ„ë‹¨ì§€ ë¹„ìœ¨ì„ ì‹œê°ì ì¸ ê·¸ë˜í”„ë¡œ ì œê³µí•©ë‹ˆë‹¤.
4.  **ğŸ¤ ì‹ë‹¨ ì»¤ë®¤ë‹ˆí‹°**: ë‚˜ì˜ ì‹ë‹¨ ë¦¬í¬íŠ¸ë¥¼ ê³µìœ í•˜ê³ , ë‹¤ë¥¸ ìœ ì €ë“¤ê³¼ ì†Œí†µ(ëŒ“ê¸€)í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
5.  **ğŸ“š í‘¸ë”” ë„ê°**: ë‹¤ì–‘í•œ ìŒì‹ ìºë¦­í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  ë„ê°ì„ ì±„ì›Œë‚˜ê°€ëŠ” ì¬ë¯¸ ìš”ì†Œë¥¼ ì œê³µí•©ë‹ˆë‹¤.
6.  **ğŸ” íšŒì› ê´€ë¦¬**: JWT ê¸°ë°˜ì˜ ì•ˆì „í•œ ë¡œê·¸ì¸ ë° íšŒì›ê°€ì…, ë§ˆì´í˜ì´ì§€ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

---

## ì‹œì‘í•˜ê¸° (Getting Started)

í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ ê° ëª¨ë“ˆë³„ ì„¤ì •ì„ ì™„ë£Œí•´ì•¼ í•©ë‹ˆë‹¤. ìƒì„¸ ë‚´ìš©ì€ ì•„ë˜ ë§í¬ë¥¼ í™•ì¸í•˜ì„¸ìš”.

- **Backend ì„¤ì • ë° ì‹¤í–‰**: [Foody-Backend README](https://github.com/SSAFY-Foody/Foody-Backend)
- **Frontend ì„¤ì • ë° ì‹¤í–‰**: [Foody-Frontend README](https://github.com/SSAFY-Foody/Foody-Frontend)
- **AI ì„œë²„ ì„¤ì • ë° ì‹¤í–‰**: [Foody-AI README](https://github.com/SSAFY-Foody/Foody-AI)

# Foody-Backend

### í•µì‹¬ ê¸°ìˆ 
- **Spring Boot**
- **MyBatis**: SQL Mapper Framework
- **MySQL**: RDBMS
- **Spring Security**: ì¸ì¦/ì¸ê°€
- **JWT**: ì¸ì¦ í† í° ê´€ë¦¬
- **OAuth2.0**: êµ¬ê¸€, ì¹´ì¹´ì˜¤ ì¸ì¦
- **WebSocket**: ì‹¤ì‹œê°„ ì±„íŒ…
- **WebClient**: ì™¸ë¶€ API (AI ì„œë²„) í†µì‹ 

---

## âš™ï¸ ì„¤ì • (Configuration)

`application.properties` íŒŒì¼ì— ë‹¤ìŒ ì„¤ì •ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.

### 1. Database ì„¤ì •
```properties
spring.datasource.url=${DB_URL} # ë°ì´í„°ë² ì´ìŠ¤ URL
spring.datasource.username=${DB_USERNAME} # ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì ì´ë¦„
spring.datasource.password=${DB_PASSWORD} # ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸
```

### 2. Server URL ì„¤ì •
```properties
# í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„
front.server.base.url=${FRONT_SERVER_BASE_URL:http://localhost:5173} # í”„ë¡ íŠ¸ ì„œë²„ ë² ì´ìŠ¤ URL (ê¸°ë³¸ localhost)
front.server.port=${FRONT_SERVER_PORT:5173} # í”„ë¡ íŠ¸ ì„œë²„ í¬íŠ¸ (ê¸°ë³¸ 5173ë²ˆ)

# AI ì„œë²„ í†µì‹ 
ai.server.base.url=${AI_SERVER_BASE_URL:http://localhost} # AI ì„œë²„ ë² ì´ìŠ¤ URL (ê¸°ë³¸ localhost)
ai.vlm.server.port=${AI_VLM_SERVER_PORT:8000} # AI VLM ì„œë²„ í¬íŠ¸ (ê¸°ë³¸ 8000ë²ˆ)
ai.analysis.server.port=${AI_ANALYSIS_SERVER_PORT:7000} # AI ë¶„ì„ ì„œë²„ í¬íŠ¸ (ê¸°ë³¸ 7000ë²ˆ)
```

### 3. ì™¸ë¶€ API ë° ì¸ì¦ ì„¤ì •
```properties
# Google SMTP
spring.mail.username=${GOOGLE_EMAIL_ID} # êµ¬ê¸€ ì´ë©”ì¼ ID
spring.mail.password=${GOOGLE_APP_PASS} # êµ¬ê¸€ ì•± ë¹„ë°€ë²ˆí˜¸

# OAuth2 Provider
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID} # êµ¬ê¸€ í´ë¼ì´ì–¸íŠ¸ ID
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET} # êµ¬ê¸€ í´ë¼ì´ì–¸íŠ¸ ë¹„ë°€ë²ˆí˜¸
spring.security.oauth2.client.registration.kakao.client-id=${KAKAO_REST_API_KEY} # ì¹´ì¹´ì˜¤ REST API í‚¤
```
---

## ğŸ› ï¸ ë¹Œë“œ ë° ì‹¤í–‰ (Build & Run)

### ì „ì œ ì¡°ê±´ (Prerequisites)
- Java 17
- Maven

### ì‹¤í–‰ ë°©ë²• (How to Run)
í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œí•˜ê³  ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
# í”„ë¡œì íŠ¸ í´ë¡ 
git clone https://github.com/SSAFY-Foody/Foody-Backend.git

# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd Foody-Backend

# Maven ë¹Œë“œ ë° ì‹¤í–‰
./mvnw spring-boot:run
```

---

## ğŸ“˜ API ë¬¸ì„œ (API Documentation)
ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¼ ë•Œ, ì•„ë˜ ì£¼ì†Œë¡œ ì ‘ì†í•˜ì—¬ API ëª…ì„¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **Swagger UI**: [http://localhost:8080/swagger-ui/index.html](http://localhost:8080/swagger-ui/index.html)

- API ë¬¸ì„œ (ì¼ë¶€)
![Swagger API docs](./github_asset/img/Foody_Swagger_API.png)


---

## ğŸ“‚ íŒ¨í‚¤ì§€ êµ¬ì¡° (Package Structure)
```
src/main/java/com/ssafy/foody/
â”œâ”€â”€ admin/         # ê´€ë¦¬ì ê¸°ëŠ¥
â”‚   â”œâ”€â”€ controller/    # ê´€ë¦¬ì API
â”‚   â”œâ”€â”€ dto/           # ê´€ë¦¬ììš© DTO
â”‚   â””â”€â”€ service/       # ê´€ë¦¬ì ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚
â”œâ”€â”€ auth/          # ì¸ì¦/ì¸ê°€ (JWT & OAuth)
â”‚   â”œâ”€â”€ config/        # Security ì„¤ì •
â”‚   â”œâ”€â”€ filter/        # JWT ì¸ì¦ í•„í„°
â”‚   â”œâ”€â”€ handler/       # ì¸ì¦ ì‹¤íŒ¨/ì„±ê³µ í•¸ë“¤ëŸ¬
â”‚   â”œâ”€â”€ helper/        # ì¸ì¦ ë³´ì¡° ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ jwt/           # JWT í† í° ìƒì„± ë° ê²€ì¦
â”‚   â””â”€â”€ oauth/         # OAuth2 ì‚¬ìš©ì ì„œë¹„ìŠ¤
â”‚
â”œâ”€â”€ character/     # í‘¸ë”” ë„ê°
â”‚   â”œâ”€â”€ controller/    # ìºë¦­í„° ì¡°íšŒ API
â”‚   â”œâ”€â”€ domain/        # ìºë¦­í„° ì—”í‹°í‹°
â”‚   â”œâ”€â”€ dto/           # ìºë¦­í„° ë°ì´í„° ì „ì†¡ ê°ì²´
â”‚   â”œâ”€â”€ mapper/        # ìºë¦­í„° DB ë§¤í¼
â”‚   â””â”€â”€ service/       # ìºë¦­í„° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚
â”œâ”€â”€ chat/          # 1:1 ìƒë‹´ ì±„íŒ…
â”‚   â”œâ”€â”€ controller/    # ì±„íŒ…ë°©/ë©”ì‹œì§€ API
â”‚   â”œâ”€â”€ domain/        # ì±„íŒ… ë©”ì‹œì§€ ì—”í‹°í‹°
â”‚   â”œâ”€â”€ dto/           # ì±„íŒ… DTO
â”‚   â”œâ”€â”€ handler/       # WebSocket í•¸ë“¤ëŸ¬
â”‚   â””â”€â”€ service/       # ì±„íŒ… ì„œë¹„ìŠ¤ ë¡œì§
â”‚
â”œâ”€â”€ common/        # ê³µí†µ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ config/        # ì „ì—­ ì„¤ì • (Swagger, WebMvc ë“±)
â”‚   â”œâ”€â”€ dto/           # ê³µí†µ ì‘ë‹µ DTO (í˜ì´ì§€ë„¤ì´ì…˜)
â”‚   â””â”€â”€ handler/       # ê³µí†µ í•¸ë“¤ëŸ¬ (GlobalExceptionHandler)
â”‚
â”œâ”€â”€ email/         # ì´ë©”ì¼ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ controller/    # ì´ë©”ì¼ ì¸ì¦ API
â”‚   â”œâ”€â”€ dto/           # ì´ë©”ì¼ ìš”ì²­ DTO
â”‚   â””â”€â”€ service/       # SMTP ë©”ì¼ ë°œì†¡ ë¡œì§
â”‚
â”œâ”€â”€ food/          # ìŒì‹ ë°ì´í„° ê´€ë¦¬
â”‚   â”œâ”€â”€ controller/    # ìŒì‹ ê²€ìƒ‰/ë“±ë¡ API
â”‚   â”œâ”€â”€ domain/        # ìŒì‹/ì°œí•˜ê¸° ì—”í‹°í‹°
â”‚   â”œâ”€â”€ dto/           # ìŒì‹ ê´€ë ¨ DTO
â”‚   â”œâ”€â”€ mapper/        # ìŒì‹ DB ë§¤í¼
â”‚   â””â”€â”€ service/       # ìŒì‹ ê´€ë ¨ ì„œë¹„ìŠ¤
â”‚
â”œâ”€â”€ report/        # ì‹ë‹¨ ë¶„ì„ ë ˆí¬íŠ¸
â”‚   â”œâ”€â”€ controller/    # ë ˆí¬íŠ¸ ìƒì„±/ì¡°íšŒ/ê³µìœ  API
â”‚   â”œâ”€â”€ domain/        # ë ˆí¬íŠ¸/ì‹ë‹¨ ì—”í‹°í‹°
â”‚   â”œâ”€â”€ dto/           # ë ˆí¬íŠ¸ ê´€ë ¨ DTO
â”‚   â”œâ”€â”€ helper/        # ë ˆí¬íŠ¸ ë³´ì¡° ë¡œì§
â”‚   â”œâ”€â”€ mapper/        # ë ˆí¬íŠ¸ DB ë§¤í¼
â”‚   â””â”€â”€ service/       # ë ˆí¬íŠ¸ ìƒì„± ë° ë¶„ì„ ì„œë¹„ìŠ¤
â”‚
â””â”€â”€ user/          # íšŒì› ê´€ë¦¬
    â”œâ”€â”€ controller/    # íšŒì›ê°€ì…/ë¡œê·¸ì¸/ë§ˆì´í˜ì´ì§€ API
    â”œâ”€â”€ domain/        # ì‚¬ìš©ì ì—”í‹°í‹°
    â”œâ”€â”€ dto/           # ì‚¬ìš©ì ê´€ë ¨ DTO
    â”œâ”€â”€ mapper/        # ì‚¬ìš©ì DB ë§¤í¼
    â””â”€â”€ service/       # ì‚¬ìš©ì ê´€ë¦¬ ì„œë¹„ìŠ¤
```

---

## ğŸ—„ï¸ ER ë‹¤ì´ì–´ê·¸ë¨ (ER Diagram)
![ER Diagram](./github_asset/img/Foody_ER_Diagram.png)

## ê¶Œì¥ ì˜ì–‘ì†Œ ê³„ì‚°ë²• (ë¯¸í”Œë¦°-ì„¸ì¸íŠ¸ ì§€ì–´ ê³µì‹ ì°¸ê³ )

- í‘œì¤€ ëª¸ë¬´ê²Œ (ë³€í˜• ë¸Œë¡œì¹´ ê³µì‹ ì°¸ê³ )
- ì„±ë³„ì— ë”°ë¥¸ ê³„ì‚° ë°©ì‹
    - ë‚¨ì„± - (ë³¸ì¸ í‚¤ - 100) \* 0.9 ë¥¼ ì†Œìˆ˜ì  2ìë¦¬ë¡œ ë°˜ì˜¬ë¦¼
    - ì—¬ì„± - (ë³¸ì¸ í‚¤ - 100) \* 0.85 ë¥¼ ì†Œìˆ˜ì  2ìë¦¬ë¡œ ë°˜ì˜¬ë¦¼

- í‘œì¤€ ì¹¼ë¡œë¦¬ ì„­ì·¨ëŸ‰
- ì„±ë³„ì— ë”°ë¥¸ ê³„ì‚° ê³µì‹
```math
\text{í‘œì¤€ ì¹¼ë¡œë¦¬ ì„­ì·¨ëŸ‰}(std\_kcal) =
\begin{cases}
\text{ë‚¨ì„± =  }(\text{í‘œì¤€ ëª¸ë¬´ê²Œ} \times 10 + \text{ë³¸ì¸ í‚¤} \times 6.25 - \text{ë³¸ì¸ ë‚˜ì´} \times 5 + 5) \times \text{í™œë™ ê³„ìˆ˜}\\
\text{ì—¬ì„± =  }(\text{í‘œì¤€ ëª¸ë¬´ê²Œ} \times 10 + \text{ë³¸ì¸ í‚¤} \times 6.25 - \text{ë³¸ì¸ ë‚˜ì´} \times 5 - 161) \times \text{í™œë™ ê³„ìˆ˜}\\
\end{cases}
```
- í™œë™ ê³„ìˆ˜ (í•´ë¦¬ìŠ¤-ë² ë„¤ë”•íŠ¸ ê³µì‹ ì°¸ê³ )
    - Level 1 => value = 1.2, description = ê±°ì˜ ì•ˆí•¨ 
    - Level 2 => value = 1.375, description = ê°€ë²¼ìš´ í™œë™
    - Level 3 => value = 1.55, description = ë³´í†µ í™œë™
    - Level 4 => value = 1.725, description = í™œë°œí•œ í™œë™ 
    - Level 5 => value = 1.9, description = ë§¤ìš° í™œë°œ (ê²©ë ¬í•œ ìš´ë™, ìœ¡ì²´ë…¸ë™)

#### ì˜ì–‘ì†Œ ë¹„ìœ¨ - íƒ„ìˆ˜í™”ë¬¼ : ë‹¨ë°±ì§ˆ : ì§€ë°© : ë‹¹ = 6 : 1.4 : 2.2 : 0.4

```math
    \text{í‘œì¤€ ì˜ì–‘ì†Œ ì„­ì·¨ëŸ‰}(g) =
    \begin{cases}
    \text{std\_carb\_g(í‘œì¤€ íƒ„ìˆ˜í™”ë¬¼ ì„­ì·¨ëŸ‰, ë‹¨ìœ„ : g) : }\dfrac{\text{í‘œì¤€ ì¹¼ë¡œë¦¬ ì„­ì·¨ëŸ‰} \times 0.6}{4}\\[1em]
    \text{std\_protein\_g(í‘œì¤€ ë‹¨ë°±ì§ˆ ì„­ì·¨ëŸ‰, ë‹¨ìœ„ : g) : }\dfrac{\text{í‘œì¤€ ì¹¼ë¡œë¦¬ ì„­ì·¨ëŸ‰} \times 0.14}{4}\\[1em]
    \text{std\_fat\_g(í‘œì¤€ ì§€ë°© ì„­ì·¨ëŸ‰, ë‹¨ìœ„ : g) : }\dfrac{\text{í‘œì¤€ ì¹¼ë¡œë¦¬ ì„­ì·¨ëŸ‰} \times 0.22}{9}\\[1em]
    \text{std\_sugar\_g(í‘œì¤€ ë‹¹ ì„­ì·¨ëŸ‰, ë‹¨ìœ„ : g) : }\dfrac{\text{í‘œì¤€ ì¹¼ë¡œë¦¬ ì„­ì·¨ëŸ‰} \times 0.04}{4}\\[1em]
    \text{std\_natrium\_g(í‘œì¤€ ë‚˜íŠ¸ë¥¨ ì„­ì·¨ëŸ‰, ë‹¨ìœ„ : g) : }2
    \end{cases}
```
